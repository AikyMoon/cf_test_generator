<!-- Название -->
# Документация для генератора тестов

<!-- Table of contents (TOC/Оглавнение) -->
# Навигация по документации
1. [Возможности генератора](#short_desc)
2. [Шаблон файла конфигурации](#config_template)
   1. [Название конфигурации](#config_name)
   2. [Шаблон описания подгрупп](#vars_templates)
   3. [Количество тестов](#test_count)
   4. [Формат вывода](#output_format)
3. [Типы данных и их шаблоны](#dtypes)
   1. [Числа (Int)](#int)
   2. [Символы (Char)](#char)
   3. [Последовательности/списки/слова (List)](#list)
4. [Запуск генератора](#start)
5. [Обратная связь](#contacts)


<!-- Описание каждой части оглавления -->

<!-- Глава первая: Краткое описание возможностей -->
# Возможности генератора <a id="short_desc"></a>
Данная программа позволяет быстро генерировать тесты для задач на платформе [Codeforces Polygon](https://polygon.codeforces.com) в формате **.json**. В описании задаются основные данные: 
1. Название задачи
2. Ограничения для каждой переменной для каждой подгруппы 
3. Формат вывода данных

> Такой формат позволяет ускорить прототипирование простеньких задач с генерацей чисел, строк, последовательностей без каких-либо правил (четные, уникальные и тд.)


<!-- Глава вторая: Шаблоны конфиг-файла -->
# Шаблон файла конфигурации теста <a id="config_template"></a>

Программа состоит из нескольких частей: генератора (**python-скрипт**) и файла конфигурации тестов (**описание данных в формате .json**). В данном разделе будет рассматриваться способ описания задач в формате json.

Шаблон состоит из трех основных частей:
1. Название конфиг-файла (название задачи)
2. Описание каждой подгруппы и ограничений для переменных
3. Количество тестов для каждой подгруппы
4. Описание формата вывода

Базовый шаблон: 
```json
{
    "config_name": "task_name",
    "groups": {},  // описание каждой подгруппы
    "samples": {}, // количестов тестов для подгруппы
    "output_format": {} // формат выходных данных
}
```

## Название конфигурации <a id="config_name"></a>
Название конфигурации может быть любое, главное, чтобы вы понимали, что оно значит, так как данное название будет использоваться в конечном файле теста.

> Обычно используют название задачи, так как при большом количестве генерируемых файлов будет проще разобраться, какой файл к чему относится.


## Шаблоны описание подгрупп <a id="vars_templates"></a>
Одной из важных частей конфигурации является описание подгрупп тестов и переменных.

---
### Подгруппы и их шаблоны
У описания подгрупп единый шаблон в `json` файле. Состоит он из названия подгруппы (обычно индекс, так как на [Codeforces polygon](https://polygon.codeforces.com) группы задаются номерами) и описания каждой подгруппы (переменные и их ограничения).

Пример: 
```json
    "groups": {
        "0": {
            "variable": "variable optionals"
        }
    }
```

Данное описание говорит, что у `группы 0` будут такие-то переменные с такими-то ограничениями

### Шаблоны описания переменных
В конфигурации у каждой переменной есть свое описание. На этом и строится генератор: скрипт парсит описания переменных, а затем по этим описаниям генерирует файлы. Переменные также имеют единый шаблон описания: 
1. Название переменной (задается строкой - `var_name`)
2. Описание переменной:
    1. Тип данных (type)
    2. Параметры (optionals) (для каждого типа данных свой см. [Типы данных](#dtypes))


Шаблон описания переменной
```json
"variable_name": {
    "type": "dtype", // тип данных
    "optional": {},  // параметры переменной (см. Типы данных)
}
```

## Шаблон формата вывода <a id="output_format"></a>


<!-- Глава третья: Типы данных -->
# Типы данных и их шаблоны <a id="dtypes"></a>
Так как тесты могут содержать различные типы данных (числа/слова/последовательности) было создано несколько основных типов данных, у каждого из которых свои параметры (optional):
1. Числа (Int)
2. Символы (Char)
3. Последовательности (List)


<!-- Шаблоны типов данных -->
## Числа (Int) <a id="int"></a>
Тип данных, позволяющий генерировать тесты со случайными целыми числами на промежутке `[min, max]` включая точки `min` и `max`

> `min` - минимальное значение переменной
> `max` - максимальное значение переменной


Шаблон данного типа выглядит так:
```json
{
    "a": {
        "type": "int",
        "optional": {
            "min": 10,
            "max": 100
        }
    }
}
```

> Данный шаблон описывает, что переменная `a` будет приминать случайное значение на промежутке `[10, 100]` включая точки конца отрезка.

## Символы (Char) <a id="char"></a>
Тип данных, позволяющий генерировать тесты со случайным символом из списка доступных символов (valid_chars).

> `valid_chars` - список или строка доступных символов, из которых будет выбираться случайный во время генерации


Шаблон данного типа выглядит так:
```json
{
    "a": {
        "type": "char",
        "optional": {
            "valid_chars": "+-?"
    }
}
```

> Данный шаблон описывает, что переменная `a` будет случайным символом из списка доступных, т.е. в данном случает переменная `a` будет являться одним из символов `+`, `-` или `?`


## Последовательности (List) <a id="list"></a>
Тип данных, позволяющий генерировать тесты с последовательностями, состоящими из чисел или символов (чаще всего слова).

Шаблон списоков/последовательностей имеет как общую структуру, так и может варьироваться

Единый шаблон:
```json
{
    "a": {
        "type": "list",
        "optional": {
            "element_type": int/char,
            "len": указание_генератора_длины,
            доп. параметры (зависят от типа данных)
        }
    }
}
```

Данный тип имеет различное множество настроек:
1. Выбор генератора длины
2. Доп. параметры, необходимые каждому типу данных (см. [Int](#int) и [Char](#char))
   
### Выбор генератора длины
Генератор длины может задаваться тремя различными способами:
---
**Указание переменной** <br>

Указание переменной, по которой будет осуществляться выбор длины (указать название переменной)
> :exclamation: При использовании данного способа описания длины важно, чтобы переменная была определена раньше, чем последовательность
---
**Указание числа** <br>

Указание числа. Т.е. длина последовательности будет зафиксирована конкретным числом.

> :exclamation: При использовании данного способа описания длины задается только число в параметре `len`

Пример:
```json
{
    "a": {
        "type": "list",
        "optional": {
            "element_type": int/char,
            "len": 10
        }
    }
}
```
> Длина последовательности будет фикисрована и равняться `10`

---
**Указание промежутка для генератора** <br>

Указание промежутка для генератора, по которому будет осуществляться выбор длины (длина будет случайна на каждом тесте, но будет лежать в указанном промежутке)

> [!IMPORTANT]
> :exclamation: При использовании данного способа описания длины задается словарь в параметре `len` с описанием, как у типа данных [Int](#int), т.е. минимальное и максимально значение

Пример:
```json
{
    "a": {
        "type": "list",
        "optional": {
            "element_type": int/char,
            "len": {
                "min": 1,
                "max": 100
            }
        }
    }
}
```
> Длина последовательности не будет фиксированной, но будет лежать в промежутке `[1, 100]`



<!-- Глава четвертая: Запуск генератора и формат выходных данных -->
# Запуск генератора <a id="start"></a>


<!-- Глава пятая: Контакты для обратной связи -->
# Обратная связь <a id="contacts"></a>